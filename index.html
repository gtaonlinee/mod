<!doctype html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>itsmto • Accueil</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

<script src="https://unpkg.co/gsap@3/dist/gsap.min.js"></script>
<script src="https://assets.codepen.io/16327/Flip.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/CustomEase.min.js"></script>

<style>
    :root { --bg-body: #f5f3ff; --text-main: #1e1b4b; --text-muted: #64748b; --nav-bg: #ffffff; --card-bg: #ffffff; --card-border: #c4b5fd; --btn-color: #725AC1; --shadow-tone: rgba(114, 90, 193, 0.15); }
    body { margin: 0; padding: 0; font-family: 'Inter', sans-serif; background: var(--bg-body); color: var(--text-main); line-height: 1.6; overflow-x: hidden; }
    .container { max-width: 1200px; margin: 0 auto; padding: 0 24px; }
    
    /* Navbar */
    .navbar { position: fixed; top: 20px; left: 50%; transform: translateX(-50%); width: 95%; max-width: 1200px; border-radius: 30px; background: var(--nav-bg); box-shadow: 0 10px 30px -10px var(--shadow-tone); z-index: 1000; padding: 10px 30px; border: 1px solid var(--card-border); box-sizing: border-box; }
    .nav-inner { display: flex; justify-content: space-between; align-items: center; }
    .logo { font-weight: 800; font-size: 22px; color: var(--btn-color); text-decoration: none; letter-spacing: 1px; }
    .nav-links { display: flex; gap: 20px; list-style: none; margin: 0; padding: 0; }
    .nav-links a { text-decoration: none; color: var(--text-muted); font-size: 14px; transition: 0.2s; font-weight: 500; }
    .nav-links a.active { color: var(--btn-color); }

    /* Menu Mobile */
    .menu-toggle { display: none; background: none; border: none; font-size: 28px; color: var(--btn-color); cursor: pointer; }
    .mobile-menu { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--bg-body); z-index: 2000; flex-direction: column; align-items: center; justify-content: center; gap: 40px; }
    .mobile-menu a { font-size: 32px; font-weight: 800; text-decoration: none; color: var(--text-main); }
    .close-menu { position: absolute; top: 30px; right: 30px; font-size: 40px; background: none; border: none; color: var(--text-main); cursor: pointer; }
    
    @media (max-width: 768px) { .nav-links { display: none; } .menu-toggle { display: block; } }

    /* Hero & Contenu Existants */
    .reveal { opacity: 0; transform: translateY(20px); transition: all 0.6s ease; }
    .reveal.visible { opacity: 1; transform: translateY(0); }
    .hero { padding: 180px 0 50px; text-align: center; position: relative; } /* Padding ajusté */
    .blob-bg::before { content: ''; position: absolute; width: 6rem; height: 6rem; right: 20%; top: 10%; z-index: -1; background-color: #8b5cf6; border-radius: 9999px; filter: blur(50px); opacity: 0.4; }
    .blob-bg::after { content: ''; position: absolute; width: 8rem; height: 8rem; left: 20%; bottom: 10%; z-index: -1; background-color: #c4b5fd; border-radius: 9999px; filter: blur(60px); opacity: 0.5; }
    
    .universal-btn { position: relative; display: inline-flex; justify-content: center; align-items: center; padding: 12px 28px; text-decoration: none; color: var(--btn-color); background: transparent; border: 2px solid var(--btn-color); box-shadow: inset 0 0 0 0 var(--btn-color); cursor: pointer; transition: ease-out 0.5s; border-radius: 10px; font-weight: 700; margin-bottom: 20px;}
    .universal-btn:hover { color: white; box-shadow: inset 0 -100px 0 0 var(--btn-color); }
    
    .info-section { background: var(--card-bg); border: 1px solid var(--card-border); border-radius: 24px; padding: 40px; margin: 40px 0; text-align: left; box-shadow: 0 20px 40px -20px var(--shadow-tone); }
    .info-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 30px; margin-top: 30px; }
    .info-item h3 { color: var(--btn-color); margin-bottom: 10px; }
    
    /* --- NOUVEAUX STYLES POUR L'ANIMATION GSAP --- */
    
    .animation-wrapper {
        position: relative;
        width: 100%;
        min-height: 800px; /* Espace pour l'animation */
        display: flex;
        flex-direction: column;
        align-items: center;
        margin-top: 50px;
    }

    /* Le Gros Texte Arrière-plan */
    .big-text-bg {
        position: absolute;
        top: 20%;
        left: 50%;
        transform: translate(-50%, -50%);
        text-align: center;
        z-index: 0;
        width: 100%;
        pointer-events: none; /* Pour que le clic passe à travers */
    }

    .big-text-bg h1 {
        font-size: 15vw; /* Très grand responsive */
        font-weight: 400;
        letter-spacing: -0.05em;
        color: rgba(30, 27, 75, 0.1); /* Couleur text-main mais très transparente */
        margin: 0;
        line-height: 1;
    }

    .big-text-bg p {
        font-size: 1.5rem;
        color: #22c55e; /* Vert demandé */
        font-weight: 600;
        margin-top: 10px;
    }

    /* Conteneur Galerie */
    .img-gallery-container {
        position: relative;
        width: 100%;
        height: 600px;
        z-index: 10;
        margin-top: 100px;
    }

    /* Les Images (Cartes) */
    .img {
        position: absolute;
        width: 300px;
        height: 400px;
        overflow: hidden;
        border-radius: 15px;
        box-shadow: 0 20px 50px rgba(0,0,0,0.2);
        
        /* Position initiale "étalée" (quand c'est ouvert) */
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
    }
    
    .img img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    /* Positions quand étalé */
    .img:nth-child(1) { margin-left: -350px; transform: translate(-50%, -50%) rotate(-5deg); }
    .img:nth-child(2) { margin-left: -120px; transform: translate(-50%, -50%) rotate(-2deg); }
    .img:nth-child(3) { margin-left: 120px; transform: translate(-50%, -50%) rotate(2deg); }
    .img:nth-child(4) { margin-left: 350px; transform: translate(-50%, -50%) rotate(5deg); }

    /* Classe .reorder : État "Empilé" (Initial) */
    .img.reorder {
        margin-left: 0; /* Reset marge */
        /* Tous au centre */
        top: 50%;
        left: 50%;
    }
    /* Légère rotation pour l'effet de paquet de cartes */
    .img.reorder:nth-child(1) { transform: translate(-50%, -50%) rotate(6deg); z-index: 1;}
    .img.reorder:nth-child(2) { transform: translate(-50%, -50%) rotate(-3deg); z-index: 2;}
    .img.reorder:nth-child(3) { transform: translate(-50%, -50%) rotate(2deg); z-index: 3;}
    .img.reorder:nth-child(4) { transform: translate(-50%, -50%) rotate(-1deg); z-index: 4;}

    /* Bouton d'action pour l'animation */
    .toggle-btn {
        margin-top: 20px;
        background: var(--btn-color);
        color: white;
        border: none;
        padding: 15px 40px;
        border-radius: 30px;
        font-size: 16px;
        cursor: pointer;
        z-index: 20;
        font-weight: bold;
        transition: transform 0.2s;
    }
    .toggle-btn:hover { transform: scale(1.05); }

    /* --- MODAL IMAGE PLEIN ÉCRAN --- */
    .modal {
        display: none;
        position: fixed;
        z-index: 3000;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0,0,0,0.9);
        animation: fadeIn 0.3s ease-out;
    }

    .modal-content {
        margin: auto;
        display: block;
        max-width: 90%;
        max-height: 90%;
        animation: slideUp 0.4s ease-out;
    }

    .close {
        position: absolute;
        top: 15px;
        right: 35px;
        color: #f1f1f1;
        font-size: 40px;
        font-weight: bold;
        transition: 0.3s;
        cursor: pointer;
    }

    .close:hover,
    .close:focus {
        color: #bbb;
        text-decoration: none;
    }

    @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
    }

    @keyframes slideUp {
        from { transform: translateY(50px); opacity: 0; }
        to { transform: translateY(0); opacity: 1; }
    }

    footer { border-top: 1px solid var(--card-border); padding: 40px 0; text-align: center; color: var(--text-muted); font-size: 13px; position: relative; z-index: 20; background: var(--bg-body); }
</style>
</head>
<body>

<nav class="navbar">
    <div class="nav-inner">
        <a href="index.html" class="logo">ITSMTO</a>
        <div class="nav-links">
            <a href="vehicules.html">Garage</a>
            <a href="fonctionnement.html">Fonctionnement</a>
            <a href="socials.html">Contact</a>
        </div>
        <button class="menu-toggle" onclick="toggleMobileMenu()">☰</button>
    </div>
</nav>

<div id="mobileMenu" class="mobile-menu">
    <button class="close-menu" onclick="toggleMobileMenu()">×</button>

    <a href="socials.html">Contact</a>
</div>

<section class="hero blob-bg reveal">
    <div class="container">
        <h1>L'Expérience Moddée par itsmto</h1>
        <div class="info-section">
            <h2 style="color:var(--btn-color);">Garage & Services</h2>
            <p>Découvrez ma collection de véhicules moddés et profitez de services d'optimisation de gains.</p>
            <div class="info-grid">
                <div class="info-item"><h3>Échanges & Dons</h3><p>Plus de 60 véhicules moddés transférables sur PS5.</p></div>
                <div class="info-item"><h3>Braquages disponibles</h3><p>Bogdan, Casino, et Cayo Perico.</p></div>
                <div class="info-item"><h3>Comment ?</h3><p>Contactez-moi sur Discord pour planifier vos sessions.</p></div>
            </div>
        </div>
        
        <div style="display:flex; gap:20px; justify-content:center; flex-wrap:wrap;">
            <a href="vehicules.html" class="universal-btn">Voir le Garage</a>
            <a href="fonctionnement.html" class="universal-btn">Fonctionnement</a>
            <a href="socials.html" class="universal-btn">Me contacter</a>
        </div>
    </div>
</section>

<div class="animation-wrapper reveal">
    
    <button class="toggle-btn">Voir les exemples</button>

    <div class="big-text-bg">
        <h1>ITSMTO</h1>
    </div>

    <div class="img-gallery-container order">
        <div class="img reorder" id="i-1">
            <img src="./images/img1.jpg" alt="Véhicule 1" onclick="openImageModal('./images/img1.jpg')" />
        </div>
        <div class="img reorder">
            <img src="./images/img2.jpg" alt="Véhicule 2" onclick="openImageModal('./images/img2.jpg')" />
        </div>
        <div class="img reorder">
            <img src="./images/img3.jpg" alt="Véhicule 3" onclick="openImageModal('./images/img3.jpg')" />
        </div>
        <div class="img reorder">
            <img src="./images/img4.jpg" alt="Véhicule 4" onclick="openImageModal('./images/img4.jpg')" />
        </div>
    </div>
</div>

<!-- Modal Image Plein Écran -->
<div id="imageModal" class="modal">
    <span class="close" onclick="closeModal()">&times;</span>
    <img class="modal-content" id="modalImg">
</div>

<footer><p>&copy; 2026 itsmto. Tous droits réservés.</p></footer>

<script>
    // Menu Mobile
    function toggleMobileMenu() { 
        const m = document.getElementById('mobileMenu'); 
        m.style.display = (m.style.display === 'flex') ? 'none' : 'flex'; 
    }
    
    // Reveal au scroll
    const obs = new IntersectionObserver((es) => { 
        es.forEach(e => { if (e.isIntersecting) e.target.classList.add('visible'); }); 
    }, { threshold: 0.1 });
    document.querySelectorAll('.reveal').forEach((el) => obs.observe(el));

    // --- SCRIPT D'ANIMATION GSAP FLIP ---
    gsap.registerPlugin(Flip);
    CustomEase.create("cubic", "0.83, 0, 0.17, 1");

    const gallery = document.querySelector(".img-gallery-container");
    const images = gsap.utils.toArray(".img");
    const btn = document.querySelector(".toggle-btn");
    
    let isFlipped = false;

    btn.addEventListener("click", () => {
        isFlipped = !isFlipped;
        
        // Change le texte du bouton
        btn.textContent = isFlipped ? "Masquer les exemples" : "Voir les exemples";

        // Capture l'état actuel
        let state = Flip.getState(".img-gallery-container, .img");
        
        // Change les classes (bascule entre empilé et étalé)
        // Note: J'ai inversé la logique par rapport au code original pour que ça commence empilé
        images.forEach((img) => img.classList.toggle("reorder"));

        // Anime le changement
        Flip.from(state, {
            absolute: true,
            duration: 1.5,
            stagger: 0.05,
            ease: "cubic",
            simple: true // Optimisation
        });
    });

    // --- GESTION MODALE IMAGE ---
    function openImageModal(src) {
        const modal = document.getElementById("imageModal");
        const modalImg = document.getElementById("modalImg");
        modal.style.display = "block";
        modalImg.src = src;
        document.body.style.overflow = 'hidden'; // Empêcher le scroll
    }

    function closeModal() {
        const modal = document.getElementById("imageModal");
        modal.style.display = "none";
        document.body.style.overflow = 'auto'; // Réactiver le scroll
    }

    // Fermeture en cliquant en dehors ou avec Échap
    window.onclick = function(event) {
        const modal = document.getElementById("imageModal");
        if (event.target == modal) closeModal();
    }

    document.addEventListener('keydown', function(event) {
        if (event.key === 'Escape') closeModal();
    });
</script>

</body>
</html>